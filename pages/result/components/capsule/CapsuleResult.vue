<template>
	<view class="capsule-result">
		<!-- å†³ç­–é—®é¢˜ -->
		<view class="decision-question" v-if="decisionQuestion">
			<text>å†³ç­–é—®é¢˜ï¼š{{ decisionQuestion }}</text>
		</view>
		
		<!-- èƒ¶å›Šå›¾æ ‡å’Œæ ‡é¢˜ -->
		<view class="result-header">
			<text class="capsule-icon">ğŸ§ª</text>
			<text class="result-title">å‘½è¿èƒ¶å›Šåˆ†æç»“æœ</text>
		</view>
		
		<!-- ç»“æœå†…å®¹ -->
		<view class="result-content">
			<text class="result-text">{{ result }}</text>
		</view>
		
		<!-- åˆ†ææŒ‡æ ‡ -->
		<view class="analysis-metrics">
			<view class="metric-item">
				<text class="metric-label">AIåˆ†æå®Œæˆåº¦ï¼š</text>
				<text class="metric-value">100%</text>
			</view>
			<view class="metric-item">
				<text class="metric-label">å†³ç­–å¯ä¿¡åº¦ï¼š</text>
				<text class="metric-value">98.7%</text>
			</view>
			<view class="metric-item">
				<text class="metric-label">å»ºè®®æŒ‡æ•°ï¼š</text>
				<text class="metric-value">â˜…â˜…â˜…â˜…â˜…</text>
			</view>
		</view>
		
		<!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
		<view class="action-buttons">
			<view class="action-button retry" @tap="onRetry">
				<text class="button-icon">âŸ³</text>
				<text class="action-text">é‡æ–°é€‰æ‹©</text>
			</view>
			<view class="action-button home" @tap="onShare">
				<text class="button-icon">âŒ‚</text>
				<text class="action-text">è¿”å›é¦–é¡µ</text>
			</view>
		</view>
	</view>
</template>

<script>
export default {
	name: 'CapsuleResult',
	props: {
		decisionQuestion: {
			type: String,
			default: 'æœªè®¾ç½®å†³ç­–é—®é¢˜'
		},
		result: {
			type: String,
			required: true
		}
	},
	emits: ['retry', 'share'],
	setup(props, { emit }) {
		const onRetry = () => {
			emit('retry');
		};
		
		const onShare = () => {
			emit('share');
		};
		
		return {
			onRetry,
			onShare
		};
	}
};
</script>

<style lang="scss" scoped>
.capsule-result {
	width: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
	background: rgba(255, 255, 255, 0.1);
	border-radius: 20rpx;
	padding: 40rpx;
	backdrop-filter: blur(10px);
}

.decision-question {
	padding: 15rpx 30rpx;
	background: rgba(14, 165, 233, 0.15);
	border-radius: 10rpx;
	margin-bottom: 30rpx;
	width: 100%;
	text-align: center;
	box-sizing: border-box;
	
	text {
		font-size: 28rpx;
		color: #a5f3fc;
	}
}

.result-header {
	display: flex;
	align-items: center;
	margin-bottom: 40rpx;
	
	.capsule-icon {
		font-size: 40rpx;
		margin-right: 10rpx;
	}
	
	.result-title {
		font-size: 36rpx;
		font-weight: bold;
		color: #7dd3fc;
	}
}

.result-content {
	flex: 1;
	display: flex;
	justify-content: center;
	align-items: center;
	width: 100%;
	
	.result-text {
		font-size: 80rpx;
		font-weight: bold;
		color: #7dd3fc;
		text-shadow: 0 0 15rpx rgba(125, 211, 252, 0.5);
	}
}

.analysis-metrics {
	width: 100%;
	margin-top: 60rpx;
	
	.metric-item {
		display: flex;
		justify-content: center;
		margin-bottom: 20rpx;
		
		.metric-label {
			color: #ffffff;
			font-size: 30rpx;
		}
		
		.metric-value {
			color: #7dd3fc;
			font-size: 30rpx;
			font-weight: bold;
		}
	}
}

.action-buttons {
	display: flex;
	justify-content: space-around;
	margin-top: 50rpx;
	width: 100%;
	
	.action-button {
		display: flex;
		flex-direction: column;
		align-items: center;
		background: rgba(14, 165, 233, 0.2);
		border: 1px solid rgba(14, 165, 233, 0.4);
		padding: 20rpx 40rpx;
		border-radius: 10rpx;
		width: 40%;
		
		.button-icon {
			font-size: 40rpx;
			margin-bottom: 10rpx;
		}
		
		.action-text {
			font-size: 28rpx;
		}
	}
	
	.retry {
		background: rgba(14, 165, 233, 0.2);
	}
	
	.home {
		background: rgba(59, 130, 246, 0.2);
	}
}
</style> 